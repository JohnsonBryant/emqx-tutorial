# 阿里云物联、ActorCloud综合比较


## 平台

### 上手难度

> `微小`
对非 Pass 用户影响较小，为吸引用户体验可以稍加改进。
应当提供简单的代码示例让试用者使用 


渐进式 bootstrap 通过菜单项引导用户新建、下载带有连接信息的基础 SDK 进行接入试用。

没有经验快速接入较难

### 数据协议

> `重要`
目标客户如果没有物联网产品经验，可能比较依赖已有的协议模型。
ActorCloud 可以适当提供协议模板、协议指导。
[ICA数据标准平台](https://www.ica-alliance.org/dataindex?spm=5176.11485173.0.0.4f2e59afJ2bvIV)  


自定义 + 创建产品时可选绑定 ICA 数据标准平台 类目 + Alink 协议，统一了通信模型与协议，降低开发、调试、运维难度。

通信协议完全由用户自定义

### 硬件生态

> `重要 `
兼容的工控系统、消费电子；硬件 SDK、既有模块、解决方案、半成品贴牌等可以降低开发门槛的硬件生态系统，这部分预计是用户选型的重要指标
[阿里云 IoT 物联网市场](https://linkmarket.aliyun.com/) 


阿里云 IoT 物联网市场、ICA 招募计划 有大量合作公司支持，有免开发解决方案

暂无

### 社区

完备

暂无

### 成熟度

基本功能都齐全了，还在频繁研发，约一个月一版。未来方向是搭建云上开发工具平台，重点集成自定义规则引擎，打通云计算资源

基本功能都齐全了，研发较慢

### 接入层级

提供网关、私有协议支持，重要功能有接入 SDK 支持，提供了薄弱的边缘计算功能（私有协议 + SDK 透传），整个接入从上到下都有支持。

只搭建了平台，设备、网关、私有协议层面的接入支持较弱

### 初次使用体验

> 建议 ActorCloud 有一些东西可以区分高级与普通，表单短一点，引导提示多一点 


简单易用，功能较少。

稍微复杂，功能广，模型与功能难以理解。

### 部署灵活性

较差

较好

### 可扩展性/定制性

在网关上拓展定制

可选在平台定制

## 接入

### 客户端 SDK

> `微小`
使用 SDK 太过度封装，没有必要。但 ActorCloud 需要补充文档：
明确各种协议、操作模式下的通信模型。提供基本代码或示例仓库
包括指令下发、数据上报等消息流与原理。 


多种语言版本客户端 SDK，网关 SDK

暂无，没有必要

### 固件升级

> `微小`
该功能用户自定义空间较大 


升级包版本可追溯、流程可控、状态可查。尚不清楚实现机制

较弱，升级状态、固件版本等不可用，下发方式不太科学（HTTP 协议让设备自己下载），这里需要按照实际设备场景修正。

### 设备影子

> `重要`
是一种应用开发模式，可以简化很多控制流程 


有，来自阿里云后端 Hub 支持

EMQ 尚未支持

### 主题列表

> `中等`
便于开发、运维与监测 


支持主题列表与主题消息、权限统计，支持直接操作主题消息流。

暂无已订阅主题列表，支持 session 持久化，设备掉线保留订阅关系？

### 模型定义与管理

> `重要`
ActorCloud 适当改进模型操作 


仅高级版支持模型管理

支持较好，非常灵活。但是使用起来概念太多。功能点、数据流、对象、类型等系统上手难度较大

### 证书与安全

证书及安全自定义范围较小

多级安全级别

### 协议接入

LoRa

-平台暂不支持直接接入，需要转为 MQTT 协议透传 单设备透传频率平台限制 QoS 0 30 条/s, QoS 1 10 条/s

-支持 loRa 网关直接接入，可以定制私有接入协议，接入速率上限视部署架构

LwM2M

-平台暂不支持直接接入管理，预留 CoAP 接入或 MQTT 接入，需在接入前网关上转换透传，同样受单设备透传速率限制

-支持标准 LwM2M 接入，可定制接入私有协议，接入速率上限视部署架构

Modbus

-提供通用化的网关层协议转换驱动与网关管理功能，通过网关接入平台，接入速率受限

-只定制了一款&nbsp;Modbus 网关，可以接入且进行管理，但通用化不够

OPC UA

-提供通用化的网关层协议转换驱动，通过网关接入平台，接入速率受限

-暂无

WebSocket

MQTT

HTTP

CoAP

协议定制

> `重要`
协议定制方面 ActorCloud 灵活度需要改进，应当提高接入定制的能力，部分协议调整为在网关层与 ActorCloud 层上做自定义开发而不是 EMQ，或者提供用户编程接口，降低定制化难度与耦合度。

[阿里泛化协议 SDK](https://help.aliyun.com/document_detail/86369.html?spm=a2c4g.11186623.6.625.5442729aCv5Sts) 


-平台层面支持较少，但是提供网关上通用的 Modbus、OPCUA 协议转换驱动，支持自己编写驱动在客户端、网关上转换，能做到在网关上做好处理再透传到平台。对于私有 TCP、UDP 协议、偏门协议等提供 泛化协议 SDK 接入，灵活接入任何协议。

-平台层面支持较多，可以支持私有化协议定制。但协议支持不够灵活，目前定制工作由 EMQ 来做，系统耦合度较高。用户自由编码转换正在改进支持 (profile)。

## 规则匹配

### 规则引擎

> `重要` 


支持 SQL，支持入库与触发相关事件，支持可视化编辑。查看截图

> ![](http://cdn.processon.com/5c4aae4fe4b08a7683b4ef39?e=1548401760&token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:pBlNSIMfyOxrK33feY0BdsvLtTM=) 


-数据流转（简单匹配）
 -流转到各种云资源

> ![](http://cdn.processon.com/5c4ac0aae4b048f108ddc630?e=1548406458&token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:l89c9p_a5U1ypxKOuMDHPvw5G_0=) 

 -流转到设备：功能点或者自定主题

-场景联动（内容匹配）

> ![](http://cdn.processon.com/5c4ac165e4b0fa03cea6ff90?e=1548406645&token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:HOcojMYAVXiwijnGNkm0uEF0c6g=) 

 -反馈操作
 -串联到下一个规则
 -告警操作（流数据分析 -&gt; 异常检测）

支持度较好，但是仅用在告警管理上，没有用于数据清洗、过滤，符合规则的数据不能入库，SQL 及可视化正在支持

-数据流转

> 需要 EMQ 规则引擎及相关 API 支持 

 -流转到云资源（无）
 -流转到设备（无）

-场景联动
 -反馈操作
 -串联到下一个规则（无）
 -告警操作

### 围栏规则

> `重要` 


支持度一般，需手工在流规则中创建，可视化做的不好

支持基于地图管理可视化规则

### 定时任务

不支持

支持多种维度的定时任务

## 数据分析

### 指标管理

各个接入层级的各类聚合计算，可视化编排，数据源支持，可以从数据表操作，较为灵活

-输出到设备

-入库

各个接入层级的各类聚合计算，表单编排，没有外部数据源，稍微不灵活

-输出到设备（无）

-入库

## 数据可视化

### 图表可视化

> ![](http://cdn.processon.com/5c4acd7ce4b025fe7c8b11b9?e=1548409740&token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:2Dd6p_whxwGtpWX5rYU8fHieBZ8=) 


支持 Web 可视化组件编排，通过服务开发来生成可视化数据，非常灵活（公测）

支持度较好，支持指标、原始数据等可视化编排，但是灵活度还是不够

### 二维可视化

支持度一般，仅定位

支持度较好，定位、轨迹、围栏等

### 三维可视化

> ![](http://cdn.processon.com/5c4ace66e4b048f108dde5cf?e=1548409974&token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:EBWsMLN62YKHGv6uSZk5-FZ75o0=) 


尚未评估，需要 windows 电脑安装模型编辑器

暂无

### 拓扑可视化

暂无

拓扑管理，便于查看设备层级关系

## 边缘计算

### aliyun

支持 Modbus 通信，自定义驱动

支持 OPC UA，自定义驱动

网关上的函数计算、数据流分析

### ActorCloud

自由接入，对边缘计算网关管理不足

定制化的 Modbus 协议网关

暂无相关云资源配套支持

## 消息规则

### 消息桥接

> `重要`
ActorCloud 提供几个常用的消息规则，允许用户持久化指定消息到不同的源。 


产品、分组、设备、属性粒度的消息规则

-持久化到自家各种云产品

产品、分组粒度的消息规则

-默认全部持久化到平台，支持定义持久化到 HTTP 网关

### 事件流

支持事件流推送至 HTTP/2，消息队列等。

> 设备上报消息 
设备状态变化通知 
设备生命周期变更 


设备上下线、触发事件时静默改写数据库，不能触发自定义事件

## 监控与运维

### 实时监控

设备数据告警

-无

-有

### 在线调试

较为完善

不完善

### 日志服务

## 其他功能

### 资产管理

无

基本的绑定管理

### 财务管理，私有计费

无

有

### 子账号

无

有

## 使用成本 (以 30W设备，平均日消息量 50 条)

### aliyun（114.3W / 年）

设备管理计费

-高级版
 -0.01/设备 x 天 30W * 0.01 = 3000 元 / 天

-普通版
 -免管理费

设备接入计费

-100W条/3.6元，512 Bytes 一条
 -50.4 元 / 天

基础数据持久化

-3 W/年

### ActorCloud（首年 47.8 W/年，次年 11.8 W/年）

软件授权

-36W/一次性 + 后续升级支持

EMQ 订阅

-2W元 / 年

技术支持

-4.8W / 年

部署服务器

-5W / 年&nbsp;

## 使用限制

### aliyun

产品数

-总数 1000

设备数

-总数 1000 * 50 W

-单个产品下 50 W

连接速率

-500/s

设备上报速率

-1 W/s

-单设备 QoS 1 10 /s ; QoS 0 30 /s&nbsp;

平台下发速率

-2000 / s

-单设备 50 / s

平台订阅速率

-1000 topic / s&nbsp;

平台广播

-同一个 Topic 支持 1000 个设备订阅，SDK 至多每秒发送一条广播

消息规则消息转发率

-1000 QPS

API 调用

-Pub
 -单租户 1600QPS
 -单IP 100QPS

-RRpc
 -单租户 500QPS
 -单IP 100QPS

-其他接口
 -单租户 50QPS
 -单IP 100QPS

### ActorCloud

> 不限指软件无逻辑限制，实际性能视部署架构而定，标准性能参考测试报告 


产品数

-不限

设备数

-平台接入总数不限，实际可用数受限于 EMQ 线数

-单个产品下下不限设备数

连接速率

-不限

设备上报速率

-不限

平台下发速率

-不限 

平台订阅速率

-不限

平台广播

-不限

消息规则消息转发率

-不限

API 调用

-Pub
 -不限

-RRpc
 -暂不支持

-其他接口
 -不限

## 总结

### aliyun

平台支持较好，在标准制定、硬件生态、社区培训支持方面方面有很大优势

-100

设备接入灵活度差、与实际生产系统的集成能力较弱

-60

数据持久化、数据分析、规则引擎强大，部署使用方便快捷

-90

数据可视化美观易用、易编辑定制

-90

空间可视化三维支持较好，二维支持较差

-60

边缘计算、网关接入、私有协议接入较为方便，但定制性欠佳

-80

拓展性：平台使用限制太多，大型项目接入时消息吞吐、数据处理受限较多，性能不够用，开放的 API 集成其他应用系统较难

-60

开发集成、接入难度较低，概念少，人机功效较好

-90

数据清洗、导出、再利用较为简便

-90

可定制：针对既有设备、网关、网络协议定制接入较难，可定制性较弱

-50

发展难点

-生态壁垒、难以定制、开放不足、与应用系统集成度不够、缺失部分功能

使用成本

-适合小规模接入，大规模时成本很高

### ActorCloud

平台支持不友好，周边工具、硬件生态较弱

-60

设备接入灵活度高、与实际生产系统的集成较强

-90

数据持久化、数据分析、规则引擎简陋，暂未提供基本功能与集成云资源

-50

数据可视化简单，有一定编辑定制能力

-60

空间可视化二维支持较好，三维支持较差

-60

边缘计算、网关接入支持较差，不具有管理功能，私有协议接入较为方便，但定制性较好，可以针对具体网关定制

-60

拓展性：平台使用限制很少，大型项目接入时消息吞吐、数据处理使用空间与优化空间很大，开放的 API 集成其他应用系统较容易

-90

开发集成、接入难度较低，概念多，人机功效较差

-60

数据清洗、导出、再利用支持较为薄弱

-60

可定制：针对既有设备、网关、网络协议定制接入难度一般，特殊的网络协议、网络层可定制性较强

-90

发展难点

-没有标准的接入协议或者规范指南，集成网关、设备较难；如果没有规范，一款网关、一个协议前后端都要定制集成一次。

使用成本

-适合中大规模接入，大规模时成本分摊很低，扩容方便